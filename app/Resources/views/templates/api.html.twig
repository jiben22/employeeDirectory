{% extends 'base_layout.html.twig' %}

{% block title %}{{ parent() }} - API Base Adresse Nationale{% endblock %}
{% block stylesheets %}
      <link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
{% endblock %}
{% block javascriptHeader %}
      <script type='text/javascript' src='http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js'></script>
{% endblock %}

{% block body %}
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                    <h2>API - Base Adresse Nationale</h2>
                    </div>
                </div>
                <!-- /. ROW  -->
                <hr/>

            <div class="row">
                <div class="col-md-12">
                    {{ dump(data) }}
                    <h3>Latitude {{ latitude }}</h3>
                    <h3>Longitude {{ longitude }}</h3>
                </div>
            </div>

            <div id="map" style="height: 440px; border: 1px solid #AAA;"></div>

        </div>
    </div>
    <!-- /. PAGE INNER  -->
</div>
{% block javascripts %}
    <script type='text/javascript' src='maps/markers.json'></script>
    <script type='text/javascript' src='maps/leaf-demo.js'></script>
    <script>
        var map = L.map( 'map', {
            center: [48.0, 6.0],
            minZoom: 4,
            zoom: 5
        });

        //L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        //L.tileLayer( 'http://c.tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png', {
        L.tileLayer( 'http://a.tile.thunderforest.com/landscape/{z}/{x}/{y}.png ', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            subdomains: ['a','b','c']
        }).addTo( map );

        L.marker( [{{ latitude }}, {{ longitude }}] )
        .bindPopup( '<span>Latitude: ' + {{ latitude }} + '  -  Longitude:' + {{ longitude }} + '</span>' )
        .addTo( map );
    </script>
{% endblock %}
{% endblock %}
